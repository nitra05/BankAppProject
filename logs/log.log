2023-11-29T14:04:18.890+01:00  INFO 10880 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 10880 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:04:18.897+01:00  INFO 10880 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:04:19.631+01:00  INFO 10880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:04:19.687+01:00  INFO 10880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:04:20.235+01:00  INFO 10880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:04:20.246+01:00  INFO 10880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:04:20.246+01:00  INFO 10880 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:04:20.324+01:00  INFO 10880 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:04:20.324+01:00  INFO 10880 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1370 ms
2023-11-29T14:04:20.461+01:00  INFO 10880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:04:20.779+01:00  INFO 10880 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a31ca20
2023-11-29T14:04:20.780+01:00  INFO 10880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:04:20.863+01:00  WARN 10880 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:04:20.864+01:00  INFO 10880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:04:20.868+01:00  INFO 10880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:04:20.869+01:00  INFO 10880 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:04:20.879+01:00  INFO 10880 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:04:20.893+01:00 ERROR 10880 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:05:39.438+01:00  INFO 15432 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 15432 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:05:39.440+01:00  INFO 15432 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:05:39.994+01:00  INFO 15432 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:05:40.044+01:00  INFO 15432 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2023-11-29T14:05:40.507+01:00  INFO 15432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:05:40.515+01:00  INFO 15432 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:05:40.515+01:00  INFO 15432 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:05:40.580+01:00  INFO 15432 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:05:40.580+01:00  INFO 15432 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms
2023-11-29T14:05:40.684+01:00  INFO 15432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:05:40.918+01:00  INFO 15432 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@548e43b1
2023-11-29T14:05:40.919+01:00  INFO 15432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:05:40.994+01:00  WARN 15432 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:05:40.995+01:00  INFO 15432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:05:40.998+01:00  INFO 15432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:05:40.999+01:00  INFO 15432 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:05:41.007+01:00  INFO 15432 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:05:41.018+01:00 ERROR 15432 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:08:03.816+01:00  INFO 12480 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 12480 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:08:03.817+01:00  INFO 12480 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:08:04.349+01:00  INFO 12480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:08:04.401+01:00  INFO 12480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 7 JPA repository interfaces.
2023-11-29T14:08:04.958+01:00  INFO 12480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:08:04.965+01:00  INFO 12480 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:08:04.965+01:00  INFO 12480 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:08:05.029+01:00  INFO 12480 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:08:05.030+01:00  INFO 12480 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1176 ms
2023-11-29T14:08:05.139+01:00  INFO 12480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:08:05.359+01:00  INFO 12480 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a55594b
2023-11-29T14:08:05.360+01:00  INFO 12480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:08:05.440+01:00  WARN 12480 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:08:05.440+01:00  INFO 12480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:08:05.444+01:00  INFO 12480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:08:05.446+01:00  INFO 12480 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:08:05.454+01:00  INFO 12480 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:08:05.465+01:00 ERROR 12480 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:10:12.069+01:00  INFO 5604 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 5604 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:10:12.071+01:00  INFO 5604 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:10:12.631+01:00  INFO 5604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:10:12.681+01:00  INFO 5604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2023-11-29T14:10:13.166+01:00  INFO 5604 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:10:13.174+01:00  INFO 5604 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:10:13.175+01:00  INFO 5604 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:10:13.259+01:00  INFO 5604 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:10:13.260+01:00  INFO 5604 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1151 ms
2023-11-29T14:10:13.368+01:00  INFO 5604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:10:13.585+01:00  INFO 5604 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@632b305d
2023-11-29T14:10:13.587+01:00  INFO 5604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:10:13.663+01:00  WARN 5604 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:10:13.664+01:00  INFO 5604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:10:13.667+01:00  INFO 5604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:10:13.669+01:00  INFO 5604 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:10:13.677+01:00  INFO 5604 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:10:13.689+01:00 ERROR 5604 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:13:59.750+01:00  INFO 3268 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 3268 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:13:59.751+01:00  INFO 3268 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:14:00.296+01:00  INFO 3268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:14:00.346+01:00  INFO 3268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 7 JPA repository interfaces.
2023-11-29T14:14:00.804+01:00  INFO 3268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:14:00.812+01:00  INFO 3268 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:14:00.813+01:00  INFO 3268 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:14:00.875+01:00  INFO 3268 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:14:00.875+01:00  INFO 3268 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1081 ms
2023-11-29T14:14:00.981+01:00  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:14:01.196+01:00  INFO 3268 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24a0c58b
2023-11-29T14:14:01.198+01:00  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:14:01.264+01:00  WARN 3268 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:14:01.264+01:00  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:14:01.268+01:00  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:14:01.269+01:00  INFO 3268 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:14:01.279+01:00  INFO 3268 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:14:01.292+01:00 ERROR 3268 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:16:39.737+01:00  INFO 17120 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 17120 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:16:39.739+01:00  INFO 17120 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:16:40.315+01:00  INFO 17120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:16:40.371+01:00  INFO 17120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:16:40.874+01:00  INFO 17120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:16:40.881+01:00  INFO 17120 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:16:40.881+01:00  INFO 17120 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:16:40.943+01:00  INFO 17120 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:16:40.943+01:00  INFO 17120 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1158 ms
2023-11-29T14:16:41.051+01:00  INFO 17120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:16:41.283+01:00  INFO 17120 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a48da4f
2023-11-29T14:16:41.285+01:00  INFO 17120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:16:41.348+01:00  WARN 17120 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:16:41.348+01:00  INFO 17120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:16:41.352+01:00  INFO 17120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:16:41.354+01:00  INFO 17120 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:16:41.365+01:00  INFO 17120 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:16:41.377+01:00 ERROR 17120 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:17:22.155+01:00  INFO 15672 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 15672 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:17:22.157+01:00  INFO 15672 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:17:22.686+01:00  INFO 15672 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:17:22.736+01:00  INFO 15672 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2023-11-29T14:17:23.209+01:00  INFO 15672 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:17:23.217+01:00  INFO 15672 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:17:23.217+01:00  INFO 15672 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:17:23.284+01:00  INFO 15672 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:17:23.285+01:00  INFO 15672 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1084 ms
2023-11-29T14:17:23.400+01:00  INFO 15672 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:17:23.618+01:00  INFO 15672 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24a0c58b
2023-11-29T14:17:23.619+01:00  INFO 15672 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:17:23.682+01:00  WARN 15672 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db/changelog/db.changelog-master.yaml does not exist
2023-11-29T14:17:23.682+01:00  INFO 15672 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:17:23.686+01:00  INFO 15672 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:17:23.689+01:00  INFO 15672 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:17:23.700+01:00  INFO 15672 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:17:23.715+01:00 ERROR 15672 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:22:44.916+01:00  INFO 2636 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 2636 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:22:44.918+01:00  INFO 2636 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:22:45.568+01:00  INFO 2636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:22:45.617+01:00  INFO 2636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2023-11-29T14:22:46.071+01:00  INFO 2636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:22:46.079+01:00  INFO 2636 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:22:46.080+01:00  INFO 2636 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:22:46.143+01:00  INFO 2636 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:22:46.144+01:00  INFO 2636 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1196 ms
2023-11-29T14:22:46.268+01:00  INFO 2636 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:22:46.521+01:00  INFO 2636 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79d7035
2023-11-29T14:22:46.523+01:00  INFO 2636 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:22:46.628+01:00  WARN 2636 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Error parsing classpath:db/changelog/changelog-master.yaml
2023-11-29T14:22:46.628+01:00  INFO 2636 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:22:46.632+01:00  INFO 2636 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:22:46.633+01:00  INFO 2636 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:22:46.642+01:00  INFO 2636 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:22:46.655+01:00 ERROR 2636 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Error parsing classpath:db/changelog/changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:db/changelog/changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:92) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:607) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:591) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase$16.run(Liquibase.java:2290) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2286) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.isUpToDateFastCheck(Liquibase.java:506) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:237) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file db.changelog/v.0.1.0/changelog.yaml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:461) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:388) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:86) ~[liquibase-core-4.20.0.jar:na]
	... 40 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file db.changelog/v.0.1.0/changelog.yaml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:832) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:452) ~[liquibase-core-4.20.0.jar:na]
	... 42 common frames omitted

2023-11-29T14:25:26.884+01:00  INFO 3384 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 3384 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:25:26.886+01:00  INFO 3384 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:25:27.397+01:00  INFO 3384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:25:27.453+01:00  INFO 3384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 7 JPA repository interfaces.
2023-11-29T14:25:27.918+01:00  INFO 3384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:25:27.926+01:00  INFO 3384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:25:27.926+01:00  INFO 3384 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:25:27.991+01:00  INFO 3384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:25:27.991+01:00  INFO 3384 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1061 ms
2023-11-29T14:25:28.094+01:00  INFO 3384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:25:28.318+01:00  INFO 3384 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:25:28.319+01:00  INFO 3384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:25:28.598+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.606+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.614+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.618+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.622+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.624+01:00  INFO 3384 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:25:28.635+01:00  INFO 3384 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:25:28.658+01:00  INFO 3384 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:25:28.670+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.674+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.804+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.835+01:00  INFO 3384 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:25:28.836+01:00  INFO 3384 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:25:28.837+01:00  INFO 3384 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:25:28.854+01:00  WARN 3384 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db.changelog/changelog-master.yaml does not exist
2023-11-29T14:25:28.854+01:00  INFO 3384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:25:28.860+01:00  INFO 3384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:25:28.862+01:00  INFO 3384 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:25:28.870+01:00  INFO 3384 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:25:28.884+01:00 ERROR 3384 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db.changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:28:48.012+01:00  INFO 8556 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 8556 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:28:48.014+01:00  INFO 8556 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:28:48.658+01:00  INFO 8556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:28:48.721+01:00  INFO 8556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
2023-11-29T14:28:49.230+01:00  INFO 8556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:28:49.237+01:00  INFO 8556 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:28:49.238+01:00  INFO 8556 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:28:49.320+01:00  INFO 8556 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:28:49.320+01:00  INFO 8556 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1260 ms
2023-11-29T14:28:49.495+01:00  INFO 8556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:28:49.814+01:00  INFO 8556 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@691567ea
2023-11-29T14:28:49.815+01:00  INFO 8556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:28:50.074+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.079+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.084+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.089+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.093+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.097+01:00  INFO 8556 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:28:50.113+01:00  INFO 8556 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:28:50.138+01:00  INFO 8556 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:28:50.150+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.153+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.287+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.324+01:00  INFO 8556 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:28:50.324+01:00  INFO 8556 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:28:50.326+01:00  INFO 8556 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:28:50.351+01:00  WARN 8556 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db.changelog/changelog-master.yaml does not exist
2023-11-29T14:28:50.352+01:00  INFO 8556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:28:50.361+01:00  INFO 8556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:28:50.364+01:00  INFO 8556 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:28:50.376+01:00  INFO 8556 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:28:50.388+01:00 ERROR 8556 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db.changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:35:45.413+01:00  INFO 3320 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 3320 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:35:45.415+01:00  INFO 3320 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:35:45.917+01:00  INFO 3320 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:35:45.973+01:00  INFO 3320 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 7 JPA repository interfaces.
2023-11-29T14:35:46.442+01:00  INFO 3320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:35:46.449+01:00  INFO 3320 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:35:46.449+01:00  INFO 3320 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:35:46.510+01:00  INFO 3320 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:35:46.510+01:00  INFO 3320 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1041 ms
2023-11-29T14:35:46.631+01:00  INFO 3320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:35:46.858+01:00  INFO 3320 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:35:46.859+01:00  INFO 3320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:35:47.062+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.072+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.078+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.084+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.088+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.090+01:00  INFO 3320 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:35:47.108+01:00  INFO 3320 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:35:47.129+01:00  INFO 3320 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:35:47.142+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.145+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.268+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.299+01:00  INFO 3320 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:35:47.300+01:00  INFO 3320 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:35:47.302+01:00  INFO 3320 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:35:47.324+01:00  WARN 3320 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db.changelog/changelog-master.yaml does not exist
2023-11-29T14:35:47.325+01:00  INFO 3320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:35:47.331+01:00  INFO 3320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:35:47.334+01:00  INFO 3320 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:35:47.343+01:00  INFO 3320 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:35:47.356+01:00 ERROR 3320 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db.changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:36:04.159+01:00  INFO 4072 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 4072 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:36:04.161+01:00  INFO 4072 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:36:04.656+01:00  INFO 4072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:36:04.709+01:00  INFO 4072 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
2023-11-29T14:36:05.195+01:00  INFO 4072 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:36:05.204+01:00  INFO 4072 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:36:05.204+01:00  INFO 4072 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:36:05.280+01:00  INFO 4072 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:36:05.280+01:00  INFO 4072 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1075 ms
2023-11-29T14:36:05.395+01:00  INFO 4072 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:36:05.610+01:00  INFO 4072 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e6060f1
2023-11-29T14:36:05.611+01:00  INFO 4072 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:36:05.813+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.820+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.826+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.833+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.838+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.840+01:00  INFO 4072 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:36:05.855+01:00  INFO 4072 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:36:05.872+01:00  INFO 4072 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:36:05.884+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.887+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:05.999+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:06.024+01:00  INFO 4072 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:06.024+01:00  INFO 4072 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:36:06.026+01:00  INFO 4072 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:36:06.047+01:00  WARN 4072 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db.changelog/db.changelog-master.yaml does not exist
2023-11-29T14:36:06.048+01:00  INFO 4072 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:36:06.055+01:00  INFO 4072 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:36:06.057+01:00  INFO 4072 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:36:06.065+01:00  INFO 4072 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:36:06.081+01:00 ERROR 4072 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db.changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:36:28.864+01:00  INFO 13460 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 13460 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:36:28.866+01:00  INFO 13460 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:36:29.374+01:00  INFO 13460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:36:29.428+01:00  INFO 13460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 7 JPA repository interfaces.
2023-11-29T14:36:29.882+01:00  INFO 13460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:36:29.891+01:00  INFO 13460 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:36:29.891+01:00  INFO 13460 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:36:29.957+01:00  INFO 13460 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:36:29.958+01:00  INFO 13460 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1046 ms
2023-11-29T14:36:30.067+01:00  INFO 13460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:36:30.349+01:00  INFO 13460 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:36:30.351+01:00  INFO 13460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:36:30.567+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.574+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.578+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.585+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.589+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.591+01:00  INFO 13460 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:36:30.607+01:00  INFO 13460 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:36:30.629+01:00  INFO 13460 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:36:30.641+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.645+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.763+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.792+01:00  INFO 13460 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:36:30.793+01:00  INFO 13460 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:36:30.794+01:00  INFO 13460 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:36:30.810+01:00  WARN 13460 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db.changelog/changelog-master.yaml does not exist
2023-11-29T14:36:30.811+01:00  INFO 13460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:36:30.818+01:00  INFO 13460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:36:30.820+01:00  INFO 13460 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:36:30.828+01:00  INFO 13460 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:36:30.843+01:00 ERROR 13460 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db.changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:37:23.716+01:00  INFO 7756 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 7756 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:37:23.719+01:00  INFO 7756 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:37:24.217+01:00  INFO 7756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:37:24.271+01:00  INFO 7756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:37:24.757+01:00  INFO 7756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:37:24.764+01:00  INFO 7756 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:37:24.765+01:00  INFO 7756 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:37:24.827+01:00  INFO 7756 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:37:24.828+01:00  INFO 7756 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1062 ms
2023-11-29T14:37:24.945+01:00  INFO 7756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:37:25.179+01:00  INFO 7756 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:37:25.180+01:00  INFO 7756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:37:25.376+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.384+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.391+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.398+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.405+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.407+01:00  INFO 7756 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:37:25.426+01:00  INFO 7756 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:37:25.443+01:00  INFO 7756 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:37:25.456+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.459+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.578+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.607+01:00  INFO 7756 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:25.608+01:00  INFO 7756 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:37:25.609+01:00  INFO 7756 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:37:25.630+01:00  WARN 7756 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:src/main/resources/db/changelog/changelog-master.yaml does not exist
2023-11-29T14:37:25.630+01:00  INFO 7756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:37:25.638+01:00  INFO 7756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:37:25.640+01:00  INFO 7756 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:37:25.651+01:00  INFO 7756 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:37:25.668+01:00 ERROR 7756 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:src/main/resources/db/changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:37:43.028+01:00  INFO 5692 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 5692 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:37:43.030+01:00  INFO 5692 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:37:43.548+01:00  INFO 5692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:37:43.598+01:00  INFO 5692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 7 JPA repository interfaces.
2023-11-29T14:37:44.063+01:00  INFO 5692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:37:44.072+01:00  INFO 5692 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:37:44.072+01:00  INFO 5692 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:37:44.148+01:00  INFO 5692 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:37:44.149+01:00  INFO 5692 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2023-11-29T14:37:44.256+01:00  INFO 5692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:37:44.455+01:00  INFO 5692 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e6060f1
2023-11-29T14:37:44.457+01:00  INFO 5692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:37:44.652+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.658+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.669+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.676+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.681+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.683+01:00  INFO 5692 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:37:44.702+01:00  INFO 5692 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:37:44.722+01:00  INFO 5692 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:37:44.734+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.738+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.862+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.893+01:00  INFO 5692 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:37:44.894+01:00  INFO 5692 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:37:44.895+01:00  INFO 5692 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:37:44.914+01:00  WARN 5692 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: D:/BankAppProject/src/main/resources/db/changelog/changelog-master.yaml does not exist
2023-11-29T14:37:44.914+01:00  INFO 5692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:37:44.921+01:00  INFO 5692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:37:44.923+01:00  INFO 5692 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:37:44.933+01:00  INFO 5692 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:37:44.946+01:00 ERROR 5692 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'D:/BankAppProject/src/main/resources/db/changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:40:42.044+01:00  INFO 9948 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 9948 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:40:42.046+01:00  INFO 9948 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:40:42.553+01:00  INFO 9948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:40:42.607+01:00  INFO 9948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:40:43.070+01:00  INFO 9948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:40:43.078+01:00  INFO 9948 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:40:43.078+01:00  INFO 9948 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:40:43.143+01:00  INFO 9948 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:40:43.143+01:00  INFO 9948 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1046 ms
2023-11-29T14:40:43.257+01:00  INFO 9948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:40:43.510+01:00  INFO 9948 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:40:43.511+01:00  INFO 9948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:40:43.707+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.715+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.722+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.730+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.737+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.739+01:00  INFO 9948 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:40:43.756+01:00  INFO 9948 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:40:43.773+01:00  INFO 9948 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:40:43.790+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.793+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.908+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.935+01:00  INFO 9948 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:40:43.935+01:00  INFO 9948 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:40:43.937+01:00  INFO 9948 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:40:43.959+01:00  WARN 9948 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: classpath:db.changelog/changelog-master.yaml does not exist
2023-11-29T14:40:43.959+01:00  INFO 9948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:40:43.965+01:00  INFO 9948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:40:43.967+01:00  INFO 9948 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:40:43.976+01:00  INFO 9948 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:40:43.989+01:00 ERROR 9948 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:db.changelog/changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-11-29T14:41:25.248+01:00  INFO 8136 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 8136 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:41:25.250+01:00  INFO 8136 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:41:25.791+01:00  INFO 8136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:41:25.844+01:00  INFO 8136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:41:26.311+01:00  INFO 8136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:41:26.319+01:00  INFO 8136 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:41:26.319+01:00  INFO 8136 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:41:26.386+01:00  INFO 8136 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:41:26.387+01:00  INFO 8136 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1088 ms
2023-11-29T14:41:26.499+01:00  INFO 8136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:41:26.745+01:00  INFO 8136 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:41:26.746+01:00  INFO 8136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:41:26.941+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:26.947+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:26.954+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:26.962+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:26.968+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:26.971+01:00  INFO 8136 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:41:26.988+01:00  INFO 8136 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:41:27.008+01:00  INFO 8136 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:41:27.022+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:27.026+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:27.145+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:27.174+01:00  INFO 8136 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:41:27.175+01:00  INFO 8136 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:41:27.176+01:00  INFO 8136 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:41:27.201+01:00  WARN 8136 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Error parsing classpath:db/changelog/changelog-master.yaml
2023-11-29T14:41:27.201+01:00  INFO 8136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:41:27.209+01:00  INFO 8136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:41:27.212+01:00  INFO 8136 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:41:27.223+01:00  INFO 8136 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:41:27.239+01:00 ERROR 8136 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Error parsing classpath:db/changelog/changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:db/changelog/changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:92) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:607) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:591) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase$16.run(Liquibase.java:2290) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2286) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.isUpToDateFastCheck(Liquibase.java:506) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:237) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file db.changelog/v.0.1.0/changelog.yaml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:461) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:388) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:86) ~[liquibase-core-4.20.0.jar:na]
	... 40 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file db.changelog/v.0.1.0/changelog.yaml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:832) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:452) ~[liquibase-core-4.20.0.jar:na]
	... 42 common frames omitted

2023-11-29T14:47:44.520+01:00  INFO 472 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 472 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:47:44.522+01:00  INFO 472 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:47:45.006+01:00  INFO 472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:47:45.062+01:00  INFO 472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 7 JPA repository interfaces.
2023-11-29T14:47:45.532+01:00  INFO 472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:47:45.540+01:00  INFO 472 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:47:45.540+01:00  INFO 472 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:47:45.605+01:00  INFO 472 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:47:45.606+01:00  INFO 472 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1041 ms
2023-11-29T14:47:45.719+01:00  INFO 472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:47:45.937+01:00  INFO 472 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:47:45.939+01:00  INFO 472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:47:46.132+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.138+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.145+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.154+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.159+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.162+01:00  INFO 472 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:47:46.185+01:00  INFO 472 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:47:46.202+01:00  INFO 472 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:47:46.214+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.218+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.343+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.377+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.377+01:00  INFO 472 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:47:46.378+01:00  INFO 472 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:47:46.439+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.441+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.443+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.445+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.446+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.447+01:00  INFO 472 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:47:46.450+01:00  INFO 472 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:47:46.460+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.462+01:00  INFO 472 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T14:47:46.464+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.466+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.546+01:00 ERROR 472 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina encountered an exception.
2023-11-29T14:47:46.547+01:00  INFO 472 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T14:47:46.548+01:00  INFO 472 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:47:46.550+01:00  INFO 472 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:47:46.550+01:00  WARN 472 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
2023-11-29T14:47:46.550+01:00  INFO 472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:47:46.555+01:00  INFO 472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:47:46.557+01:00  INFO 472 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:47:46.565+01:00  INFO 472 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:47:46.574+01:00 ERROR 472 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T14:49:06.330+01:00  INFO 6440 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 6440 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:49:06.333+01:00  INFO 6440 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:49:06.825+01:00  INFO 6440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:49:06.878+01:00  INFO 6440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
2023-11-29T14:49:07.346+01:00  INFO 6440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:49:07.355+01:00  INFO 6440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:49:07.355+01:00  INFO 6440 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:49:07.419+01:00  INFO 6440 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:49:07.420+01:00  INFO 6440 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1037 ms
2023-11-29T14:49:07.528+01:00  INFO 6440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:49:07.774+01:00  INFO 6440 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e6060f1
2023-11-29T14:49:07.776+01:00  INFO 6440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:49:07.942+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:07.946+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:07.966+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:07.968+01:00  INFO 6440 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:49:07.990+01:00  INFO 6440 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:49:08.042+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.044+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.195+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.226+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.227+01:00  INFO 6440 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:49:08.234+01:00  INFO 6440 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:49:08.275+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.277+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.280+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.282+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.284+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.285+01:00  INFO 6440 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:49:08.288+01:00  INFO 6440 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:49:08.297+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.299+01:00  INFO 6440 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T14:49:08.301+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.303+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.366+01:00 ERROR 6440 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina encountered an exception.
2023-11-29T14:49:08.367+01:00  INFO 6440 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T14:49:08.369+01:00  INFO 6440 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:49:08.370+01:00  INFO 6440 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:49:08.371+01:00  WARN 6440 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
2023-11-29T14:49:08.371+01:00  INFO 6440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:49:08.377+01:00  INFO 6440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:49:08.379+01:00  INFO 6440 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:49:08.386+01:00  INFO 6440 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:49:08.396+01:00 ERROR 6440 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T14:51:43.060+01:00  INFO 15808 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 15808 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:51:43.062+01:00  INFO 15808 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:51:43.659+01:00  INFO 15808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:51:43.728+01:00  INFO 15808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2023-11-29T14:51:44.209+01:00  INFO 15808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:51:44.217+01:00  INFO 15808 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:51:44.217+01:00  INFO 15808 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:51:44.279+01:00  INFO 15808 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:51:44.279+01:00  INFO 15808 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1164 ms
2023-11-29T14:51:44.399+01:00  INFO 15808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:51:44.628+01:00  INFO 15808 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:51:44.629+01:00  INFO 15808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:51:44.795+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:44.799+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:44.814+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:44.817+01:00  INFO 15808 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:51:44.832+01:00  INFO 15808 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:51:44.893+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:44.897+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.051+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.087+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.088+01:00  INFO 15808 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:51:45.095+01:00  INFO 15808 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:51:45.135+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.137+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.139+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.141+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.142+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.143+01:00  INFO 15808 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:51:45.145+01:00  INFO 15808 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:51:45.166+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.167+01:00  INFO 15808 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T14:51:45.169+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.171+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.237+01:00 ERROR 15808 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina encountered an exception.
2023-11-29T14:51:45.238+01:00  INFO 15808 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T14:51:45.239+01:00  INFO 15808 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:51:45.241+01:00  INFO 15808 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:51:45.241+01:00  WARN 15808 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
2023-11-29T14:51:45.242+01:00  INFO 15808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:51:45.247+01:00  INFO 15808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:51:45.248+01:00  INFO 15808 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:51:45.256+01:00  INFO 15808 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:51:45.274+01:00 ERROR 15808 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::v.0.1.0-ddl::elina:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9 [Failed SQL: (1064) create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ',
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T14:53:36.588+01:00  INFO 11376 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 11376 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:53:36.590+01:00  INFO 11376 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:53:37.055+01:00  INFO 11376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:53:37.117+01:00  INFO 11376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
2023-11-29T14:53:37.603+01:00  INFO 11376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:53:37.611+01:00  INFO 11376 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:53:37.611+01:00  INFO 11376 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:53:37.670+01:00  INFO 11376 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:53:37.671+01:00  INFO 11376 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1038 ms
2023-11-29T14:53:37.782+01:00  INFO 11376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:53:38.009+01:00  INFO 11376 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e6060f1
2023-11-29T14:53:38.010+01:00  INFO 11376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:53:38.173+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.177+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.196+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.198+01:00  INFO 11376 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:53:38.217+01:00  INFO 11376 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:53:38.274+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.278+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.430+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.459+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.460+01:00  INFO 11376 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:53:38.466+01:00  INFO 11376 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:53:38.510+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.512+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.514+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.516+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.517+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.518+01:00  INFO 11376 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:53:38.521+01:00  INFO 11376 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:53:38.530+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.532+01:00  INFO 11376 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T14:53:38.533+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.535+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.570+01:00 ERROR 11376 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll encountered an exception.
2023-11-29T14:53:38.571+01:00  INFO 11376 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T14:53:38.573+01:00  INFO 11376 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:53:38.575+01:00  INFO 11376 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:53:38.576+01:00  WARN 11376 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
2023-11-29T14:53:38.576+01:00  INFO 11376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:53:38.583+01:00  INFO 11376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:53:38.586+01:00  INFO 11376 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:53:38.595+01:00  INFO 11376 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:53:38.612+01:00 ERROR 11376 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T14:57:27.999+01:00  INFO 6552 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 6552 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:57:28.001+01:00  INFO 6552 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:57:28.516+01:00  INFO 6552 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:57:28.570+01:00  INFO 6552 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:57:29.044+01:00  INFO 6552 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:57:29.053+01:00  INFO 6552 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:57:29.053+01:00  INFO 6552 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:57:29.121+01:00  INFO 6552 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:57:29.121+01:00  INFO 6552 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1070 ms
2023-11-29T14:57:29.235+01:00  INFO 6552 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:57:30.323+01:00 ERROR 6552 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:281) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	... 31 common frames omitted
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:535) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:666) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	... 34 common frames omitted

2023-11-29T14:57:30.327+01:00  WARN 6552 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2023-11-29T14:57:30.329+01:00  INFO 6552 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:57:30.337+01:00  INFO 6552 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:57:30.348+01:00 ERROR 6552 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:286) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:281) ~[liquibase-core-4.20.0.jar:na]
	... 20 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:945) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	... 31 common frames omitted
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:535) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:666) ~[na:na]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	... 34 common frames omitted

2023-11-29T14:58:15.545+01:00  INFO 8612 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 8612 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T14:58:15.547+01:00  INFO 8612 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T14:58:16.065+01:00  INFO 8612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T14:58:16.120+01:00  INFO 8612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2023-11-29T14:58:16.585+01:00  INFO 8612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T14:58:16.593+01:00  INFO 8612 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T14:58:16.593+01:00  INFO 8612 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T14:58:16.653+01:00  INFO 8612 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T14:58:16.654+01:00  INFO 8612 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1059 ms
2023-11-29T14:58:16.771+01:00  INFO 8612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T14:58:17.011+01:00  INFO 8612 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T14:58:17.013+01:00  INFO 8612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T14:58:17.182+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.187+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.204+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.207+01:00  INFO 8612 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:58:17.228+01:00  INFO 8612 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T14:58:17.290+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.294+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.434+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.470+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.471+01:00  INFO 8612 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T14:58:17.478+01:00  INFO 8612 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:58:17.527+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.529+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.532+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.534+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.535+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.536+01:00  INFO 8612 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T14:58:17.539+01:00  INFO 8612 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T14:58:17.549+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.551+01:00  INFO 8612 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T14:58:17.552+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.554+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.587+01:00 ERROR 8612 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll encountered an exception.
2023-11-29T14:58:17.588+01:00  INFO 8612 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T14:58:17.590+01:00  INFO 8612 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T14:58:17.592+01:00  INFO 8612 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T14:58:17.593+01:00  WARN 8612 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
2023-11-29T14:58:17.593+01:00  INFO 8612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T14:58:17.598+01:00  INFO 8612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T14:58:17.600+01:00  INFO 8612 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T14:58:17.607+01:00  INFO 8612 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T14:58:17.617+01:00 ERROR 8612 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  bool        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T15:02:52.263+01:00  INFO 9564 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 9564 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T15:02:52.265+01:00  INFO 9564 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T15:02:52.796+01:00  INFO 9564 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T15:02:52.846+01:00  INFO 9564 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2023-11-29T15:02:53.298+01:00  INFO 9564 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T15:02:53.306+01:00  INFO 9564 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T15:02:53.307+01:00  INFO 9564 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T15:02:53.366+01:00  INFO 9564 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T15:02:53.367+01:00  INFO 9564 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1050 ms
2023-11-29T15:02:53.487+01:00  INFO 9564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T15:02:53.724+01:00  INFO 9564 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@9e02f84
2023-11-29T15:02:53.725+01:00  INFO 9564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T15:02:53.890+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:53.894+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:53.912+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:53.916+01:00  INFO 9564 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:02:53.932+01:00  INFO 9564 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T15:02:53.987+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:53.990+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.102+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.127+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.127+01:00  INFO 9564 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T15:02:54.134+01:00  INFO 9564 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:02:54.195+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.197+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.200+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.202+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.203+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.204+01:00  INFO 9564 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:02:54.207+01:00  INFO 9564 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T15:02:54.216+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.218+01:00  INFO 9564 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T15:02:54.219+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.221+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.254+01:00 ERROR 9564 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll encountered an exception.
2023-11-29T15:02:54.255+01:00  INFO 9564 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T15:02:54.257+01:00  INFO 9564 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:02:54.258+01:00  INFO 9564 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:02:54.260+01:00  WARN 9564 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
2023-11-29T15:02:54.260+01:00  INFO 9564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T15:02:54.266+01:00  INFO 9564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T15:02:54.268+01:00  INFO 9564 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T15:02:54.276+01:00  INFO 9564 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T15:02:54.288+01:00 ERROR 9564 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T15:07:41.767+01:00  INFO 11208 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 11208 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T15:07:41.770+01:00  INFO 11208 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T15:07:42.322+01:00  INFO 11208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T15:07:42.369+01:00  INFO 11208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 7 JPA repository interfaces.
2023-11-29T15:07:42.826+01:00  INFO 11208 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T15:07:42.835+01:00  INFO 11208 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T15:07:42.835+01:00  INFO 11208 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T15:07:42.895+01:00  INFO 11208 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T15:07:42.895+01:00  INFO 11208 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1081 ms
2023-11-29T15:07:43.009+01:00  INFO 11208 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T15:07:43.249+01:00  INFO 11208 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e6060f1
2023-11-29T15:07:43.251+01:00  INFO 11208 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T15:07:43.417+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.420+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.436+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.438+01:00  INFO 11208 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:07:43.454+01:00  INFO 11208 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T15:07:43.519+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.523+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.668+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.706+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.706+01:00  INFO 11208 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T15:07:43.714+01:00  INFO 11208 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:07:43.761+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.763+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.766+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.768+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.769+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.770+01:00  INFO 11208 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:07:43.772+01:00  INFO 11208 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T15:07:43.782+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.784+01:00  INFO 11208 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T15:07:43.785+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.787+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.820+01:00 ERROR 11208 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll encountered an exception.
2023-11-29T15:07:43.821+01:00  INFO 11208 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T15:07:43.823+01:00  INFO 11208 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:07:43.825+01:00  INFO 11208 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:07:43.826+01:00  WARN 11208 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
2023-11-29T15:07:43.827+01:00  INFO 11208 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T15:07:43.833+01:00  INFO 11208 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T15:07:43.836+01:00  INFO 11208 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T15:07:43.844+01:00  INFO 11208 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T15:07:43.855+01:00 ERROR 11208 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T15:09:13.139+01:00  INFO 17228 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 17228 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T15:09:13.141+01:00  INFO 17228 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T15:09:13.675+01:00  INFO 17228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T15:09:13.724+01:00  INFO 17228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 7 JPA repository interfaces.
2023-11-29T15:09:14.208+01:00  INFO 17228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T15:09:14.216+01:00  INFO 17228 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T15:09:14.216+01:00  INFO 17228 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T15:09:14.281+01:00  INFO 17228 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T15:09:14.281+01:00  INFO 17228 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1091 ms
2023-11-29T15:09:14.383+01:00  INFO 17228 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T15:09:14.583+01:00  INFO 17228 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T15:09:14.585+01:00  INFO 17228 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T15:09:14.746+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.750+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.767+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.770+01:00  INFO 17228 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:09:14.782+01:00  INFO 17228 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T15:09:14.836+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.840+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.944+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.967+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:14.968+01:00  INFO 17228 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T15:09:14.975+01:00  INFO 17228 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:09:15.021+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.023+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.026+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.028+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.030+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.031+01:00  INFO 17228 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:09:15.033+01:00  INFO 17228 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T15:09:15.044+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.046+01:00  INFO 17228 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T15:09:15.048+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.051+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.100+01:00 ERROR 17228 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll encountered an exception.
2023-11-29T15:09:15.101+01:00  INFO 17228 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T15:09:15.105+01:00  INFO 17228 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:15.110+01:00  INFO 17228 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:09:15.112+01:00  WARN 17228 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
2023-11-29T15:09:15.113+01:00  INFO 17228 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T15:09:15.124+01:00  INFO 17228 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T15:09:15.128+01:00  INFO 17228 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T15:09:15.142+01:00  INFO 17228 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T15:09:15.157+01:00 ERROR 17228 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

2023-11-29T15:09:54.493+01:00  INFO 18180 --- [main] d.Y.B.BankAppProjectApplication          : Starting BankAppProjectApplication using Java 19.0.1 with PID 18180 (D:\BankAppProject\target\classes started by user in D:\BankAppProject)
2023-11-29T15:09:54.495+01:00  INFO 18180 --- [main] d.Y.B.BankAppProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2023-11-29T15:09:55.004+01:00  INFO 18180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-29T15:09:55.055+01:00  INFO 18180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 7 JPA repository interfaces.
2023-11-29T15:09:55.520+01:00  INFO 18180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-11-29T15:09:55.527+01:00  INFO 18180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-11-29T15:09:55.528+01:00  INFO 18180 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-29T15:09:55.590+01:00  INFO 18180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-11-29T15:09:55.590+01:00  INFO 18180 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1052 ms
2023-11-29T15:09:55.704+01:00  INFO 18180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-11-29T15:09:55.942+01:00  INFO 18180 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36224f93
2023-11-29T15:09:55.943+01:00  INFO 18180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-11-29T15:09:56.106+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.110+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.126+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.129+01:00  INFO 18180 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:09:56.146+01:00  INFO 18180 --- [main] liquibase.command                        : Dropping Database Objects in schema: die_bank.die_bank
2023-11-29T15:09:56.204+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.207+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.322+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.350+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.351+01:00  INFO 18180 --- [main] liquibase.database                       : Successfully deleted all supported object types in schema die_bank.die_bank.
2023-11-29T15:09:56.359+01:00  INFO 18180 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:09:56.413+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.415+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.418+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.420+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.424+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.425+01:00  INFO 18180 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-11-29T15:09:56.428+01:00  INFO 18180 --- [main] liquibase.changelog                      : Creating database history table with name: die_bank.DATABASECHANGELOG
2023-11-29T15:09:56.437+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.439+01:00  INFO 18180 --- [main] liquibase.changelog                      : Reading from die_bank.DATABASECHANGELOG
2023-11-29T15:09:56.440+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.441+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.476+01:00 ERROR 18180 --- [main] liquibase.changelog                      : ChangeSet db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll encountered an exception.
2023-11-29T15:09:56.477+01:00  INFO 18180 --- [main] liquibase                                : Update command encountered an exception.
2023-11-29T15:09:56.479+01:00  INFO 18180 --- [main] liquibase.executor                       : Changelog query completed.
2023-11-29T15:09:56.481+01:00  INFO 18180 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-11-29T15:09:56.482+01:00  WARN 18180 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
2023-11-29T15:09:56.482+01:00  INFO 18180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-11-29T15:09:56.487+01:00  INFO 18180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-11-29T15:09:56.489+01:00  INFO 18180 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-11-29T15:09:56.498+01:00  INFO 18180 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-29T15:09:56.509+01:00 ERROR 18180 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]
	at de.YefrAlex.BankAppProject.BankAppProjectApplication.main(BankAppProjectApplication.java:10) ~[classes/:na]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2639) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:221) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.20.0.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/v.0.1.0/ddl-0.1.0.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:187) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:186) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:165) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:256) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.Scope.child(Scope.java:260) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75) ~[liquibase-core-4.20.0.jar:na]
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16 [Failed SQL: (1064) create table if not exists die_bank.employees
(
    id         binary(16) primary key,
    first_name varchar(50) not null,
    last_name  varchar(50) not null,
    role       varchar (10) not null,
    email      varchar(60) not null,
    phone      varchar(16) not null,
    country    varchar(16) not null,
    created_at timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at  timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked  boolean        not null default false,
    unique (email)
);

create table if not exists die_bank.clients
(
    id            binary(16) primary key,
    first_name    varchar(50) not null,
    last_name     varchar(50) not null,
    tax_code      varchar(20),
    credit_rating int DEFAULT 0 not null,
    email         varchar(60) not null,
    address       varchar(80) not null,
    phone         varchar(16) not null,
    country       varchar(16) not null,
    created_at    timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean    not null default false,
    unique (tax_code, email)
);

create table if not exists die_bank.accounts
(
    id                      binary(16) primary key,
    client_id               binary(16)  not null,
    main_manager_id         binary(16)  not null,
    assistant_manager_id    binary(16)  ,
    account_number          varchar(20) not null,
    type                    int(1)      not null,
    balance                 decimal(15, 2)       DEFAULT 0 not null,
    currency_code           varchar(3)  not null,
    created_at              timestamp   DEFAULT CURRENT_TIMESTAMP,
    update_at               timestamp   DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked              boolean     not null default false,
    foreign key (main_manager_id) references employees (id),
    foreign key (assistant_manager_id) references employees (id),
    foreign key (client_id) references clients (id),
    unique (account_number)
);

create table if not exists die_bank.products
(
    id              int primary key auto_increment,
    product_typ     varchar(70)   not null,
    currency_code   varchar(3)    not null,
    interest_rate   decimal(6, 4) not null,
    limit_sum       decimal (12,2),
    limit_duration  int,
    description     varchar,
    created_at      timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at       timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked      boolean      not null default false
);

create table if not exists die_bank.agreements
(
    id            bigint primary key auto_increment,
    account_id    binary(16)     not null,
    product_id    int            not null,
    interest_rate decimal(4, 2)  not null,
    is_active     boolean        not null,
    sum           decimal(12, 2) not null,
    duration      int            not null
    description   varchar
    created_at    timestamp    DEFAULT CURRENT_TIMESTAMP,
    update_at     timestamp    DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_blocked    boolean      not null default false,
    foreign key (account_id) references accounts (id),
    foreign key (product_id) references products (id)
);

create table if not exists die_bank.transactions
(
    id                binary(16) primary key,
    debit_account_id  binary(16)     not null,
    credit_account_id binary(16)     not null,
    type              varchar        not null,
    amount            decimal(12, 2) not null,
    description       varchar(255),
    created_at        timestamp      DEFAULT CURRENT_TIMESTAMP,
    foreign key (debit_account_id) references accounts (id),
    foreign key (credit_account_id) references accounts (id)
);

create table if not exists die_bank.payments
(
    id                    bigint         primary key auto_increment,
    agreement_id          int,
    payment_sum           decimal(12, 2) not null,
    expected_payment_date timestamp  DEFAULT CURRENT_TIMESTAMP,
    real_payment_date     timestamp  DEFAULT CURRENT_TIMESTAMP,
    is_paid               boolean      not null default false,
    foreign key (agreement_id ) references agreements (id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252) ~[liquibase-core-4.20.0.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702) ~[liquibase-core-4.20.0.jar:na]
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create table if not exists die_bank.clients
(
    id            binary(16) prima' at line 16
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441) ~[liquibase-core-4.20.0.jar:na]
	... 61 common frames omitted

